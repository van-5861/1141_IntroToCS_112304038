<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Number Guessing Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 50px;
        }
        h1 {
            color: #333;
        }
        #result {
            margin-top: 20px;
        }
        img {
            max-width: 100%;
            height: auto;
            max-height: 400px;
            display: block;
            margin: 0 auto;
        }
    </style>
</head>
<body>

    <h1 id="game-title">112304038 Guessing Game</h1>

    <div id="result"></div>

    <script>
        window.onload = function() {
            setTimeout(startGame, 100);
        };

        var answer = Math.floor(Math.random() * 100) + 1;
        var chances = 7; 
        var min = 1;
        var max = 100;
        var isGuessedCorrectly = false;
        var resultDiv = document.getElementById("result");

        while (chances > 0) {
            var input = window.prompt(
                "請輸入 " + min + " 到 " + max + " 之間的整數。\n" +
                "你還有 " + chances + " 次機會。"
            );

            if (input === null) {
                alert("遊戲已取消。");
                break;
            }

            var originalInput = input;
            input = input.trim(); 

            if (input === "" || isNaN(input)) {
                alert("請輸入有效數字！");
                continue; 
            }

            var guess = Number(input);

            if (guess <= min || guess >= max) {
                alert("請輸入有效範圍內的數字(不能超出 " + min + " 到 " + max + ")!");
                continue; 
            }

            if (guess === answer) {

                isGuessedCorrectly = true;
                alert("恭喜你答對了! 正確答案是 " + answer);
                
                resultDiv.innerHTML = '<img src="correct.jpg" alt="Correct">';
                break; 
            } else {
                chances--;

                if (guess > answer) {
                        max = guess; 
                    } else {
                        min = guess; 
                    }
            
        }

        if (!isGuessedCorrectly && chances === 0) {
            alert("很遺憾，次數用完了。\n正確答案是: " + answer);
            resultDiv.innerHTML = '<img src="wrong.jpg" alt="Wrong">';
        }
    }

    </script>
</body>
</html>